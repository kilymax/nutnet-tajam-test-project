var a=Object.defineProperty;var c=(i,e,r)=>e in i?a(i,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[e]=r;var o=(i,e,r)=>c(i,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}})();class u{constructor(){o(this,"selectors",{root:"[data-js-header]",overlay:"[data-js-header-overlay]",burgerButton:"[data-js-header-burger-button]",menuLink:"[data-js-header-menu-link]"});o(this,"stateClasses",{isActive:"is-active",isLock:"is-lock"});o(this,"onBurgerButtonClick",()=>{this.burgerButtonElement.classList.toggle(this.stateClasses.isActive),this.overlayElement.classList.toggle(this.stateClasses.isActive),document.documentElement.classList.toggle(this.stateClasses.isLock)});o(this,"onMenuLinkClick",()=>{this.stateClasses.isActive in this.overlayElement.classList||(this.burgerButtonElement.classList.remove(this.stateClasses.isActive),this.overlayElement.classList.remove(this.stateClasses.isActive),document.documentElement.classList.remove(this.stateClasses.isLock))});this.rootElement=document.querySelector(this.selectors.root),this.overlayElement=this.rootElement.querySelector(this.selectors.overlay),this.burgerButtonElement=this.rootElement.querySelector(this.selectors.burgerButton),this.menuLinksElements=this.rootElement.querySelectorAll(this.selectors.menuLink),this.bindEvents()}bindEvents(){this.burgerButtonElement.addEventListener("click",this.onBurgerButtonClick),this.menuLinksElements.forEach(e=>{e.addEventListener("click",this.onMenuLinkClick)})}}class m{constructor(){o(this,"selectors",{root:"[data-js-story]",playButton:"[data-js-story-play-button]",overlay:"[data-js-story-overlay]",exitButton:"[data-js-story-exit-button]"});o(this,"stateClasses",{isActive:"is-active",isLock:"is-lock"});o(this,"onPlayButtonClick",()=>{this.overlayElement.classList.add(this.stateClasses.isActive),document.documentElement.classList.add(this.stateClasses.isLock),this.doPlayerCommand({type:"player:play",data:{}})});o(this,"onOverlayExit",()=>{this.overlayElement.classList.remove(this.stateClasses.isActive),document.documentElement.classList.remove(this.stateClasses.isLock),this.doPlayerCommand({})});o(this,"doPlayerCommand",e=>{console.log("yes")});this.rootElement=document.querySelector(this.selectors.root),this.playButtonElement=this.rootElement.querySelector(this.selectors.playButton),this.overlayElement=this.rootElement.querySelector(this.selectors.overlay),this.playerElement=this.rootElement.getElementsByClassName("rutube-iframe"),this.exitButtonElement=this.rootElement.querySelector(this.selectors.exitButton),this.bindEvents()}bindEvents(){this.exitButtonElement.addEventListener("click",e=>{this.onOverlayExit(),e.stopPropagation()}),this.overlayElement.addEventListener("click",e=>{e.target===e.currentTarget&&(this.onOverlayExit(),e.stopPropagation())},!0),this.playButtonElement.addEventListener("click",this.onPlayButtonClick)}}new u;new m;
