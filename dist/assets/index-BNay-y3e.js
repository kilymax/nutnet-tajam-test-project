var a=Object.defineProperty;var n=(l,e,i)=>e in l?a(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i;var s=(l,e,i)=>n(l,typeof e!="symbol"?e+"":e,i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(t){if(t.ep)return;t.ep=!0;const r=i(t);fetch(t.href,r)}})();class h{constructor(){s(this,"selectors",{root:"[data-js-header]",overlay:"[data-js-header-overlay]",burgerButton:"[data-js-header-burger-button]",menuLink:"[data-js-header-menu-link]"});s(this,"stateClasses",{isActive:"is-active",isLock:"is-lock"});s(this,"onBurgerButtonClick",()=>{this.burgerButtonElement.classList.toggle(this.stateClasses.isActive),this.overlayElement.classList.toggle(this.stateClasses.isActive),document.documentElement.classList.toggle(this.stateClasses.isLock)});s(this,"onMenuLinkClick",()=>{this.stateClasses.isActive in this.overlayElement.classList||(this.burgerButtonElement.classList.remove(this.stateClasses.isActive),this.overlayElement.classList.remove(this.stateClasses.isActive),document.documentElement.classList.remove(this.stateClasses.isLock))});this.rootElement=document.querySelector(this.selectors.root),this.overlayElement=this.rootElement.querySelector(this.selectors.overlay),this.burgerButtonElement=this.rootElement.querySelector(this.selectors.burgerButton),this.menuLinksElements=this.rootElement.querySelectorAll(this.selectors.menuLink),this.bindEvents()}bindEvents(){this.burgerButtonElement.addEventListener("click",this.onBurgerButtonClick),this.menuLinksElements.forEach(e=>{e.addEventListener("click",this.onMenuLinkClick)})}}class u{constructor(){s(this,"selectors",{root:"[data-js-story]",playButton:"[data-js-story-play-button]",overlay:"[data-js-story-overlay]",exitButton:"[data-js-story-exit-button]"});s(this,"stateClasses",{isActive:"is-active",isLock:"is-lock"});s(this,"onPlayButtonClick",()=>{this.overlayElement.classList.add(this.stateClasses.isActive),document.documentElement.classList.add(this.stateClasses.isLock)});s(this,"onOverlayExit",()=>{this.overlayElement.classList.remove(this.stateClasses.isActive),document.documentElement.classList.remove(this.stateClasses.isLock),this.playerElement.contentWindow.postMessage(JSON.stringify({type:"player:pause",data:{}}),"*")});this.rootElement=document.querySelector(this.selectors.root),this.playButtonElement=this.rootElement.querySelector(this.selectors.playButton),this.overlayElement=this.rootElement.querySelector(this.selectors.overlay),this.playerElement=document.getElementById("rutube-iframe"),this.exitButtonElement=this.rootElement.querySelector(this.selectors.exitButton),this.bindEvents()}bindEvents(){this.exitButtonElement.addEventListener("click",e=>{this.onOverlayExit(),e.stopPropagation()}),this.overlayElement.addEventListener("click",e=>{e.target===e.currentTarget&&(this.onOverlayExit(),e.stopPropagation())},!0),this.playButtonElement.addEventListener("click",this.onPlayButtonClick)}}class d{constructor(){s(this,"defaultIndex",2);s(this,"selectors",{root:"[data-js-reviews]",carousel:"[data-js-reviews-carousel]",controls:"[data-js-reviews-controls]"});s(this,"stateClasses",{isActive:"is-active"});s(this,"hideReviews",()=>{this.carouselElements.forEach(e=>{e.classList.remove("is-active")}),this.controlElements.forEach(e=>{e.classList.remove("is-active")})});s(this,"showReview",e=>{this.carouselElements[e].classList.add("is-active"),this.controlElements[e].classList.add("is-active")});s(this,"calcReviewMaxHeight",()=>{let e=0,i=0;this.reviewTexts.forEach((o,t)=>{this.carouselElements[t].classList.add("is-active"),o.style.height="auto",i=parseFloat(getComputedStyle(o,null).height),this.carouselElements[t].classList.remove("is-active"),e<i&&(e=i)}),console.log(e),this.reviewTexts.forEach(o=>{o.style.height=`${e}px`}),this.showReview(this.defaultIndex)});this.rootElement=document.querySelector(this.selectors.root),this.carouselElements=this.rootElement.querySelector(this.selectors.carousel).querySelectorAll(".reviews__carousel-item"),this.reviewTexts=this.rootElement.querySelector(this.selectors.carousel).querySelectorAll(".reviews__review-wrapper"),this.controlElements=this.rootElement.querySelector(this.selectors.controls).querySelectorAll(".reviews__controls-item"),this.bindEvents()}bindEvents(){this.hideReviews(),this.calcReviewMaxHeight(),this.showReview(this.defaultIndex),this.controlElements.forEach((e,i)=>e.addEventListener("click",()=>{this.hideReviews(),this.showReview(i),this.defaultIndex=i})),window.addEventListener("resize",this.calcReviewMaxHeight)}}class v{constructor(){s(this,"defaultIndex",2);s(this,"selectors",{root:"[data-js-reviews]",carousel:"[data-js-reviews-carousel]",controls:"[data-js-reviews-controls]"});s(this,"stateClasses",{isActive:"is-active"});s(this,"hideReviews",()=>{this.carouselElements.forEach(e=>{e.classList.remove("is-active")}),this.controlElements.forEach(e=>{e.classList.remove("is-active")})});s(this,"showReview",e=>{this.carouselElements[e].classList.add("is-active"),this.controlElements[e].classList.add("is-active")});s(this,"calcReviewMaxHeight",()=>{let e=0,i=0;this.reviewTexts.forEach((o,t)=>{this.carouselElements[t].classList.add("is-active"),o.style.height="auto",i=parseFloat(getComputedStyle(o,null).height),this.carouselElements[t].classList.remove("is-active"),e<i&&(e=i)}),console.log(e),this.reviewTexts.forEach(o=>{o.style.height=`${e}px`}),this.showReview(this.defaultIndex)});this.rootElement=document.querySelector(this.selectors.root),this.carouselElements=this.rootElement.querySelector(this.selectors.carousel).querySelectorAll(".reviews__carousel-item"),this.reviewTexts=this.rootElement.querySelector(this.selectors.carousel).querySelectorAll(".reviews__review-wrapper"),this.controlElements=this.rootElement.querySelector(this.selectors.controls).querySelectorAll(".reviews__controls-item"),this.bindEvents()}bindEvents(){this.hideReviews(),this.calcReviewMaxHeight(),this.showReview(this.defaultIndex),this.controlElements.forEach((e,i)=>e.addEventListener("click",()=>{this.hideReviews(),this.showReview(i),this.defaultIndex=i})),window.addEventListener("resize",this.calcReviewMaxHeight)}}new h;new u;new d;new v;
